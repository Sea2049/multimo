# LLM API配置（支持 OpenAI SDK 格式的任意 LLM）
# 推荐使用阿里百炼平台qwen-plus模型（也可使用更便宜的qwen-flash）：https://bailian.console.aliyun.com/
LLM_API_KEY=your_api_key_here
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_MODEL_NAME=qwen-plus

# ===== ZEP记忆图谱配置 =====
# 每月免费额度即可支撑使用：https://app.getzep.com/
ZEP_API_KEY=your_zep_api_key_here

# ===== 加速 LLM 配置（可选）=====
# 注意如果不使用加速配置，env文件中就不要出现下面的配置项
LLM_BOOST_API_KEY=your_api_key_here
LLM_BOOST_BASE_URL=your_base_url_here
LLM_BOOST_MODEL_NAME=your_model_name_here

# ============= 用户认证配置 =============

# JWT 密钥（生产环境必须配置，至少 32 个字符）
# 开发环境如果不配置会自动生成随机密钥
# JWT_SECRET_KEY=your-jwt-secret-key-at-least-32-chars

# JWT Token 有效期（小时），默认 168 小时（7天）
# JWT_EXPIRATION_HOURS=168

# 邀请码长度，默认 8 位
# INVITATION_CODE_LENGTH=8

# ============= API 安全配置 =============

# API Key 认证配置（可选）
# 设置为 true 启用 API Key 认证
# API_KEY_ENABLED=false

# API Key 配置列表（JSON 数组格式）
# [{"id": "key1", "key": "your-secret-key", "name": "App Name", "permissions": ["read", "write"]}]
# API_KEYS=[]

# API Key 请求头名称
# API_KEY_HEADER=X-API-Key

# 请求签名配置（用于高安全场景，可选）
# 设置为 true 启用请求签名验证
# SIGNATURE_ENABLED=false
# SIGNATURE_SECRET=your-signature-secret-key-at-least-32-chars
# SIGNATURE_MAX_AGE=300

# ============= 请求限流配置 =============

# 是否启用请求限流（默认为 true）
# RATE_LIMIT_ENABLED=true

# 限流存储类型：memory（内存）或 redis
# RATE_LIMIT_STORAGE=memory

# Redis 连接 URL（使用 Redis 时需要配置）
# RATE_LIMIT_REDIS_URL=redis://localhost:6379

# 限流策略
# RATE_LIMIT_DEFAULT=200/hour  # 默认全局限流
# RATE_LIMIT_UPLOAD=5/minute   # 文件上传端点限流
# RATE_LIMIT_QUERY=100/minute  # 查询端点限流
# RATE_LIMIT_LLM=10/hour       # LLM 调用端点限流（本体生成、报告生成等）
# RATE_LIMIT_SIMULATION=3/hour # 模拟运行端点限流

# ============= CORS 安全配置 =============

# 允许的来源域名列表（生产环境应配置具体的域名）
# CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]

# 是否允许携带凭证（Cookie、认证头等）
# CORS_ALLOW_CREDENTIALS=true

# 预检请求缓存时间（秒）
# CORS_MAX_AGE=3600
